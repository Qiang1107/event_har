=== 时间窗口投票预测系统 ===
模型类型: pointnet2msg
时间窗口: 1.0秒
投票方法: 简单多数投票
数据来源: preprocessing_data/test_data_0628_8_ecount_3_vote.pkl
配置文件: configs/har_test_config.yaml
模型文件: results/checkpoints/pointnet2_event_0628_8_ecount_11.pth

开始时间: 2025-09-10 11:41:01

使用设备: cuda:0
模型加载成功: results/checkpoints/pointnet2_event_0628_8_ecount_11.pth

加载 vote dataset: preprocessing_data/test_data_0628_8_ecount_3_vote.pkl
加载了 11278 个带时间戳的样本
开始对 11278 个样本进行预测...
按 1.0秒 时间窗口分组预测结果...
在 270 个时间窗口内进行多数投票...
警告：时间窗口内有混合标签 {0, 7}
警告：时间窗口内有混合标签 {0, 4}
警告：时间窗口内有混合标签 {5, 7}
警告：时间窗口内有混合标签 {0, 2}
警告：时间窗口内有混合标签 {5, 7}
警告：时间窗口内有混合标签 {3, 7}
警告：时间窗口内有混合标签 {5, 6}
警告：时间窗口内有混合标签 {3, 7}
警告：时间窗口内有混合标签 {5, 6}
警告：时间窗口内有混合标签 {0, 3}
警告：时间窗口内有混合标签 {0, 7}
警告：时间窗口内有混合标签 {4, 7}
警告：时间窗口内有混合标签 {0, 5}

=== 推理时间统计 ===
总样本数: 11278
纯推理时间: 22.5213 秒
平均每样本推理时间: 0.001997 秒
推理吞吐量: 500.77 样本/秒
混合标签的时间窗口数: 13/270 (4.8%)
预测完成，耗时: 23.32秒

=== 时间窗口投票结果分析 ===
时间窗口数量: 270
单样本预测数量: 11278
单样本准确率: 0.9716 (97.16%)
时间窗口投票准确率: 0.9889 (98.89%)
准确率提升: +0.0173 (+1.73%)

=== 推理性能统计 ===
总样本数: 11278
纯推理时间: 22.5213 秒
平均每样本推理时间: 0.001997 秒
推理吞吐量: 500.77 样本/秒

=== 投票统计 ===
每窗口预测数量 - 平均: 41.8, 最小: 1, 最大: 181
投票一致性 - 平均: 0.957, 最小: 0.400, 最大: 1.000
混合标签窗口: 13/270 (4.8%)

=== 多数投票后各类别表现 ===
类别                             窗口数      准确率       
--------------------------------------------------
Approach                       57       98.25%
Pick_and_Place_Bolt            25       96.00%
Pick_and_Place_Cover           31       100.00%
Pick_and_Place_Part1_Small     17       100.00%
Pick_and_Place_Part2_Big       22       100.00%
Pick_and_Place_Screwdriver     39       97.44%
Screw                          36       100.00%
Transition                     43       100.00%

=== 单样本各类别表现 ===
类别                             样本数      准确率       
--------------------------------------------------
Approach                       2677     97.16%
Pick_and_Place_Bolt            937      94.24%
Pick_and_Place_Cover           1731     97.52%
Pick_and_Place_Part1_Small     708      95.76%
Pick_and_Place_Part2_Big       1184     98.82%
Pick_and_Place_Screwdriver     1877     96.91%
Screw                          493      97.57%
Transition                     1671     98.03%

=== 窗口级混淆矩阵 ===
56,0,0,0,0,0,0,1
0,24,0,0,0,1,0,0
0,0,31,0,0,0,0,0
0,0,0,17,0,0,0,0
0,0,0,0,22,0,0,0
1,0,0,0,0,38,0,0
0,0,0,0,0,0,36,0
0,0,0,0,0,0,0,43

=== 窗口级归一化混淆矩阵 ===
0.98,0.00,0.00,0.00,0.00,0.00,0.00,0.02
0.00,0.96,0.00,0.00,0.00,0.04,0.00,0.00
0.00,0.00,1.00,0.00,0.00,0.00,0.00,0.00
0.00,0.00,0.00,1.00,0.00,0.00,0.00,0.00
0.00,0.00,0.00,0.00,1.00,0.00,0.00,0.00
0.03,0.00,0.00,0.00,0.00,0.97,0.00,0.00
0.00,0.00,0.00,0.00,0.00,0.00,1.00,0.00
0.00,0.00,0.00,0.00,0.00,0.00,0.00,1.00

=== 单样本级混淆矩阵 ===
2601,0,16,10,6,4,0,40
0,883,0,33,0,21,0,0
0,3,1688,0,39,1,0,0
4,4,0,678,4,18,0,0
0,0,3,10,1170,0,0,1
18,17,7,5,1,1819,6,4
0,0,0,0,0,12,481,0
28,0,0,5,0,0,0,1638

=== 单样本级归一化混淆矩阵 ===
0.97,0.00,0.01,0.00,0.00,0.00,0.00,0.01
0.00,0.94,0.00,0.04,0.00,0.02,0.00,0.00
0.00,0.00,0.98,0.00,0.02,0.00,0.00,0.00
0.01,0.01,0.00,0.96,0.01,0.03,0.00,0.00
0.00,0.00,0.00,0.01,0.99,0.00,0.00,0.00
0.01,0.01,0.00,0.00,0.00,0.97,0.00,0.00
0.00,0.00,0.00,0.00,0.00,0.02,0.98,0.00
0.02,0.00,0.00,0.00,0.00,0.00,0.00,0.98

混淆矩阵图片保存路径:
窗口级: results/test_figs/pointnet2_event_0628_8_ecount_11_window_confusion_matrix_time_window_sec_1.0s_20250910_114101.png
窗口级归一化: results/test_figs/pointnet2_event_0628_8_ecount_11_window_norm_confusion_matrix_1.0s_20250910_114101.png
单样本级: results/test_figs/pointnet2_event_0628_8_ecount_11_individual_confusion_matrix_1.0s_20250910_114101.png
单样本级归一化: results/test_figs/pointnet2_event_0628_8_ecount_11_individual_norm_confusion_matrix_1.0s_20250910_114101.png

=== 主要指标 ===
时间窗口数量: 270
单样本预测数量: 11278
单样本准确率: 97.16%
时间窗口投票准确率: 98.89%
准确率提升: +1.73%
预测时间: 23.32秒
纯推理时间: 22.5213秒
平均每样本推理时间: 0.001997秒
推理吞吐量: 500.77样本/秒

结束时间: 2025-09-10 11:41:26

=== 结果总结 ===
时间窗口投票准确率: 98.89%
单样本准确率: 97.16%
准确率提升: +1.73%
纯推理时间: 22.5213秒
平均每样本推理时间: 0.001997秒
推理吞吐量: 500.77样本/秒
日志文件: results/test_logs/voting_1.0s_20250910_114101.txt
