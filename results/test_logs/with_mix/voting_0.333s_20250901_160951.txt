=== 时间窗口投票预测系统 ===
模型类型: pointnet2msg
时间窗口: 0.333秒
投票方法: 简单多数投票
数据来源: preprocessing_data/test_data_0628_8_ecount_3_vote.pkl
配置文件: configs/har_test_config.yaml
模型文件: results/checkpoints/pointnet2_event_0628_8_ecount_11.pth
开始时间: 2025-09-01 16:09:51

使用设备: cuda:0
模型加载成功: results/checkpoints/pointnet2_event_0628_8_ecount_11.pth

加载 vote dataset: preprocessing_data/test_data_0628_8_ecount_3_vote.pkl
加载了 11278 个带时间戳的样本
开始对 11278 个样本进行预测...
按 0.333秒 时间窗口分组预测结果...
在 634 个时间窗口内进行多数投票...
警告：时间窗口内有混合标签 {0, 7}
警告：时间窗口内有混合标签 {0, 4}
警告：时间窗口内有混合标签 {5, 7}
警告：时间窗口内有混合标签 {5, 7}
警告：时间窗口内有混合标签 {0, 2}
警告：时间窗口内有混合标签 {3, 7}
警告：时间窗口内有混合标签 {5, 6}
警告：时间窗口内有混合标签 {0, 7}
警告：时间窗口内有混合标签 {4, 7}
警告：时间窗口内有混合标签 {0, 5}
混合标签的时间窗口数: 10/634 (1.6%)
预测完成，耗时: 67.16秒

=== 时间窗口投票结果分析 ===
时间窗口数量: 634
单样本预测数量: 11278
单样本准确率: 0.9727 (97.27%)
时间窗口投票准确率: 0.9763 (97.63%)
准确率提升: +0.0037 (+0.37%)

=== 投票统计 ===
每窗口预测数量 - 平均: 17.8, 最小: 1, 最大: 90
投票一致性 - 平均: 0.969, 最小: 0.333, 最大: 1.000
混合标签窗口: 10/634 (1.6%)

=== 多数投票后各类别表现 ===
类别                   窗口数      准确率       
----------------------------------------
Approach             114      0.9737    
Pick_and_Place_Bolt  65       0.9846    
Pick_and_Place_Cover 85       0.9882    
Pick_and_Place_Part1_Small 39       0.9231    
Pick_and_Place_Part2_Big 60       0.9667    
Pick_and_Place_Screwdriver 89       0.9775    
Screw                100      0.9900    
Transition           82       0.9756    

=== 单样本各类别表现 ===
类别                   样本数      准确率       
----------------------------------------
Approach             2677     0.9753    
Pick_and_Place_Bolt  937      0.9520    
Pick_and_Place_Cover 1731     0.9746    
Pick_and_Place_Part1_Small 708      0.9492    
Pick_and_Place_Part2_Big 1184     0.9865    
Pick_and_Place_Screwdriver 1877     0.9723    
Screw                493      0.9797    
Transition           1671     0.9767    

=== 窗口级混淆矩阵 ===
111,0,0,0,0,1,0,2
0,64,0,1,0,0,0,0
0,0,84,0,1,0,0,0
0,1,0,36,1,1,0,0
0,0,0,2,58,0,0,0
1,1,0,0,0,87,0,0
0,0,0,0,0,1,99,0
2,0,0,0,0,0,0,80

=== 窗口级归一化混淆矩阵 ===
0.97,0.00,0.00,0.00,0.00,0.01,0.00,0.02
0.00,0.98,0.00,0.02,0.00,0.00,0.00,0.00
0.00,0.00,0.99,0.00,0.01,0.00,0.00,0.00
0.00,0.03,0.00,0.92,0.03,0.03,0.00,0.00
0.00,0.00,0.00,0.03,0.97,0.00,0.00,0.00
0.01,0.01,0.00,0.00,0.00,0.98,0.00,0.00
0.00,0.00,0.00,0.00,0.00,0.01,0.99,0.00
0.02,0.00,0.00,0.00,0.00,0.00,0.00,0.98

=== 单样本级混淆矩阵 ===
2611,0,9,9,8,6,0,34
0,892,0,23,0,22,0,0
0,2,1687,1,39,2,0,0
11,6,0,672,3,16,0,0
0,0,3,11,1168,0,0,2
13,21,6,4,0,1825,4,4
0,0,0,0,0,10,483,0
31,0,0,6,0,2,0,1632

=== 单样本级归一化混淆矩阵 ===
0.98,0.00,0.00,0.00,0.00,0.00,0.00,0.01
0.00,0.95,0.00,0.02,0.00,0.02,0.00,0.00
0.00,0.00,0.97,0.00,0.02,0.00,0.00,0.00
0.02,0.01,0.00,0.95,0.00,0.02,0.00,0.00
0.00,0.00,0.00,0.01,0.99,0.00,0.00,0.00
0.01,0.01,0.00,0.00,0.00,0.97,0.00,0.00
0.00,0.00,0.00,0.00,0.00,0.02,0.98,0.00
0.02,0.00,0.00,0.00,0.00,0.00,0.00,0.98

混淆矩阵图片保存路径:
窗口级: results/test_figs/pointnet2_event_0628_8_ecount_11_window_confusion_matrix_time_window_sec_0.333s_20250901_160951.png
窗口级归一化: results/test_figs/pointnet2_event_0628_8_ecount_11_window_norm_confusion_matrix_0.333s_20250901_160951.png
单样本级: results/test_figs/pointnet2_event_0628_8_ecount_11_individual_confusion_matrix_0.333s_20250901_160951.png
单样本级归一化: results/test_figs/pointnet2_event_0628_8_ecount_11_individual_norm_confusion_matrix_0.333s_20250901_160951.png

=== 主要指标 ===
时间窗口数量: 634
单样本预测数量: 11278
单样本准确率: 0.9727
时间窗口投票准确率: 0.9763
准确率提升: +0.0037
预测时间: 67.16秒
结束时间: 2025-09-01 16:11:00

=== 结果总结 ===
时间窗口投票准确率: 0.9763
单样本准确率: 0.9727
准确率提升: +0.0037
日志文件: results/test_logs/voting_0.333s_20250901_160951.txt
